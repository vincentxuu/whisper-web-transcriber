<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎤 語音轉文字工具 - FastAPI 版本</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🎤</text></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🎤 語音轉文字工具</h1>
            <p class="subtitle">FastAPI 版本 - 使用 OpenAI Whisper 技術，精準轉換您的音頻內容</p>
        </header>

        <main class="main-content">
            <!-- 檔案上傳區 -->
            <section class="upload-section">
                <h2>📁 選擇檔案</h2>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">📁</div>
                    <p>點擊選擇或拖拉檔案到這裡</p>
                    <input type="file" id="fileInput" accept=".mp3,.wav,.m4a,.flac,.mp4,.avi,.mov,.mkv,.webm" hidden>
                    <small>支援 MP3, WAV, M4A, FLAC, MP4, AVI, MOV, MKV 等格式</small>
                </div>
                
                <div class="file-info" id="fileInfo" style="display: none;">
                    <div class="info-item">
                        <strong>檔案名稱:</strong> <span id="fileName"></span>
                    </div>
                    <div class="info-item">
                        <strong>檔案大小:</strong> <span id="fileSize"></span>
                    </div>
                    <div class="info-item">
                        <strong>預估處理時間(base model):</strong> <span id="estimatedTime"></span>
                    </div>
                </div>
            </section>

            <!-- 設定選項 -->
            <section class="settings-section" id="settingsSection" style="display: none;">
                <h2>⚙️ 轉換設定</h2>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label for="modelSelect">選擇 AI 模型</label>
                        <select id="modelSelect">
                            <option value="tiny">Tiny - 最快速</option>
                            <option value="base" selected>Base - 平衡（推薦）</option>
                            <option value="small">Small - 較準確</option>
                            <option value="medium">Medium - 很準確</option>
                            <option value="large">Large - 最準確</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <label for="languageSelect">選擇語言</label>
                        <select id="languageSelect">
                            <option value="auto">自動偵測</option>
                            <option value="zh">中文</option>
                            <option value="en">英文</option>
                            <option value="ja">日文</option>
                            <option value="ko">韓文</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="timestampCheck"> 包含時間戳記
                        </label>
                    </div>
                </div>
                
                <button class="transcribe-btn" id="transcribeBtn">🚀 開始轉換</button>
            </section>

            <!-- 進度區域 -->
            <section class="progress-section" id="progressSection" style="display: none;">
                <h2>🔄 處理進度</h2>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-info">
                        <div class="progress-text" id="progressText">準備中...</div>
                        <div class="progress-details">
                            <span class="progress-percentage" id="progressPercentage">0%</span>
                            <span class="progress-time" id="progressTime">00:00</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 結果區域 -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <h2>📝 轉換結果</h2>
                
                <!-- 統計資料 -->
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="wordCount">0</div>
                        <div class="stat-label">字數</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="charCount">0</div>
                        <div class="stat-label">字元數</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="processingTime">0s</div>
                        <div class="stat-label">處理時間</div>
                    </div>
                </div>

                <!-- 轉換內容 -->
                <div class="result-content">
                    <textarea id="resultText" rows="10" readonly placeholder="轉換結果將在這裡顯示..."></textarea>
                    <button class="download-btn" id="downloadTextBtn">📥 下載文字檔</button>
                </div>
            </section>
        </main>

        <!-- 說明區域 -->
        <footer class="info-section">
            <details>
                <summary>ℹ️ 關於此工具 (FastAPI 版本)</summary>
                <div class="info-content">
                    <p>此工具使用 FastAPI + OpenAI Whisper 進行語音轉文字。</p>
                    
                    <h4>FastAPI 版本特點：</h4>
                    <ul>
                        <li>異步處理，更高效能</li>
                        <li>自動 API 文檔生成</li>
                        <li>前後端分離架構</li>
                        <li>支援 RESTful API</li>
                    </ul>
                    
                    <h4>功能特點：</h4>
                    <ul>
                        <li>支援多種音頻和視頻格式</li>
                        <li>提供多種模型選擇</li>
                        <li>支援多語言識別</li>
                        <li>可選時間戳記輸出</li>
                    </ul>
                    
                    <h4>API 文檔：</h4>
                    <ul>
                        <li><a href="/docs" target="_blank">Swagger UI - 互動式 API 文檔</a></li>
                        <li><a href="/redoc" target="_blank">ReDoc - 美觀的 API 文檔</a></li>
                    </ul>
                </div>
            </details>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
